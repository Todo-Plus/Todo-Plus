# Developing

## Todo

- [x] 完成全部窗口基本样式的绘制，能够交互即可（7day）

  * ~~绘制主窗口按钮、表格~~

  * 主窗口表格可滚动

  * ~~主窗口按钮样式修改~~

  * 绘制设置窗口，包含样式设置

    * SettingWindow下，菜单项封装成为一个单独的组件，便于进行使用
    * SideMode的图像需要重新渲染一下
    * 事项的实现应该延迟到派生类中，便于后续版本操作的优化

  * ~~基础设置子窗口的绘制~~

  * ~~外观设置子窗口的绘制~~

  * ~~备份设置子窗口的绘制~~

    > **三个子窗口可以融合到一个设置窗口中，在点击对应的菜单项之后，滑动到对应的子窗口**
    
  * ~~窗口样式优化，对进行显示的列表进行修改~~

- [ ] 控件交互绑定，可以执行基本的功能（7day）

  * 处理界面设置逻辑交互

    > 在详细设置界面需要添加按钮-确认-取消
    >
    > 确认后，SettingWindow和MainWindow下的设置更新
    >
    > 取消后，SettingWindow和MainWindow下的设置还原
    >
    > **由于C#下的绑定机制不便于同步，所以这里的设置不能算一个单例**

  * 优化界面UI，完成beta版本
  
  * <del>设置窗口圆角属性</del>
  
  * 归类数据后放到对应的文件中（Saver）
  
  * 实现tab，以及日期选择
  
  * **锁定和非锁定状态下在任务栏均不显示，只能在任务栏显示图标**
  
- [ ] 搭建单元测试框架，配置一定的开关在release之前进行测试

- [ ] 调研网盘api，实现针对某一单独网盘的同步

- [ ] 1.0.0 beta finish

### Dev Issue Todo

- [x] 存在无法绑定函数的问题，待解决

  > 无法直接绑定的原因是函数声明存在问题，应该使用`RouteEventArgs`

- [ ] ColorPicker控件待完善全部交互细节（颜色到当前选择的相互转换）（完成一半，单向转换）

- [ ] 根据当前完成进度跳转代码命名规范

> 在完成所有交互设置之前，保留窗口原样式菜单栏，便于进行调试

## Specification

### 命名规范

命名规范：驼峰命名，对于变量，开头字母表示类型，对于函数则表示返回类型

> 程序尽量不要出现返回类型为void的函数，函数正常运行返回0即可，便于进行测试

XAML命名：开头大写字母说明窗口，一般来说每个窗口的样式会分到不同的资源字典文件中，但是还是定义一个规范为好，例如开头MW表示Main Window

### 备注规范

自定义组件：组件内自定义参数需要添加相关的属性声明等，在每个菜单项的声明前标识注释以及类型，以MenuItem为例，分别标识参数和函数名

```
/// <summary>
/// MenuItem 菜单项
/// params：
/// @IconSource[ImageSource]： 图标资源
/// @Title[string]： 菜单项目名
/// functinos:
/// @Click： function
/// </summary>
```

注释：普通注释使用反斜杠即可，以下注释方式特殊情况使用

`// !! summary`：用于划分定义区域，例如一个类中区分函数区域和变量区域

### XAML字体规范

该规范用于XAML编写窗口，保证界面窗口的统一，后续扔到一个资源字典里面进行封装

## Controls

对组件的封装需要考虑多重封装后暴露响应的方法接口，便于设置自定义函数用于响应

### IconButton

可附带图标的按钮，设置属性实现不同效果

```xaml
/// <summary>
/// 自定义属性注册
/// @ImageSource： 图像资源
/// @IconDiameter： 图标直径
/// @CircleDiameter： 按钮的直径
/// @HoverIcon：鼠标悬浮时显示的按钮图像
/// </summary>
```

## Log

#### 2021/09/26

* 完成主窗口表格绘制，通过设置背景颜色为`Transparent`修复拖动、显示问题
* 添加了表格中的按钮
* 完成设置窗口的基本绘制，需要对菜单项控件进行单独的封装

### 2021/09/28

* 封装菜单项组件
* 修改窗口打开、销毁代码逻辑
* 完成颜色选择器基本样式，待完善底层逻辑

### 2021/09/30

* 修改部分样式，添加拖动条（需要设计样式）
* 修改外观设置窗口样式

### 2021/10/03

* 添加了“项目添加”窗口

### 2021/10/04

* 添加部分事件及函数，能够进行简单的事项的添加

### 2021/10/05

* 添加了基本的功能：添加事项、完成事项、删除事项
* 添加了加锁按钮的事件绑定，在去掉原标题栏后能够通过按钮来设置锁定状态
* 修复了事项出现的bug：链表的实现问题
* 修改了ListBox中的样式实现，放入到主窗口中便于绑定事件，但是后面需要看怎么解耦

### 2021/10/06

* 完成了基础的添加事项功能
* 待完成主窗口的固定功能，该功能完成后可以作为基础的1.0版本，下一版本对该版本的ui进行优化，已经添加完成部分功能

### 2021/10/09

* 完成了透明度修改功能
* 颜色选择器单向选择功能完成

### 2021/10/10 

* 修正Done图标
* 优化Slider事件显示，在滑动时可以进行更新
* 添加Slider绑定到颜色选定事件
* 窗体设置为圆角
* 修复窗口在桌面上的锁定状态功能
